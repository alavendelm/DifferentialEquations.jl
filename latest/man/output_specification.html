<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Output Specification · DifferentialEquations.jl documentation</title><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script></head><body><nav class="toc"><h1>DifferentialEquations.jl</h1><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Tutorials</span><ul><li><a class="toctext" href="../tutorials/ode_example.html">Ordinary Differential Equation (ODE) Example</a></li><li><a class="toctext" href="../tutorials/sde_example.html">Stochastic Differential Equation (SDE) Example</a></li><li><a class="toctext" href="../tutorials/fempoisson_example.html">Poisson Equation Finite Element Method Example</a></li><li><a class="toctext" href="../tutorials/femheat_example.html">Heat Equation Finite Element Method Example</a></li><li><a class="toctext" href="../tutorials/femstochastic_example.html">Stochastic Finite Element Examples</a></li></ul></li><li><span class="toctext">Solver Options</span><ul><li><a class="toctext" href="../solvers/ode_solve.html">Ordinary Differential Equation Solvers</a></li><li><a class="toctext" href="../solvers/sde_solve.html">Stochastic Differential Equation Solvers</a></li><li><a class="toctext" href="../solvers/fempoisson_solve.html">Finite Element Method Poisson Equation Solvers</a></li><li><a class="toctext" href="../solvers/femheat_solve.html">Finite Element Method Heat Equation Solvers</a></li><li><a class="toctext" href="../solvers/fdmstokes_solve.html">Finite Difference Method Stokes Equation Solvers</a></li></ul></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="overview.html">Overview of DifferentialEquations.jl Usage</a></li><li><a class="toctext" href="ODEProblem.html">Defining an ODE Problem</a></li><li><a class="toctext" href="SDEProblem.html">Defining a SDE Problem</a></li><li><a class="toctext" href="FEMProblem.html">Defining a FEM Problem</a></li><li><a class="toctext" href="StokesProblem.html">Defining a Stokes Problem</a></li><li><a class="toctext" href="mesh.html">Meshes</a></li><li><a class="toctext" href="solution.html">The Solution Type</a></li><li class="current"><a class="toctext" href="output_specification.html">Output Specification</a><ul class="internal"><li><a class="toctext" href="#Availability-1">Availability</a></li><li><a class="toctext" href="#Continuous-(Dense)-Output-1">Continuous (Dense) Output</a></li><li><a class="toctext" href="#Choosing-Intermediate-Locations-for-the-Solution-1">Choosing Intermediate Locations for the Solution</a></li><li><a class="toctext" href="#Timeseries-Specifications-1">Timeseries Specifications</a></li></ul></li><li><a class="toctext" href="plot.html">Plot Functions</a></li><li><a class="toctext" href="function_definition_macros.html">Function Definition Macros</a></li><li><a class="toctext" href="benchmarks.html">Benchmark Suite</a></li><li><a class="toctext" href="convergence.html">Convergence Simulations</a></li><li><a class="toctext" href="conditional_dependencies.html">Conditional Dependencies</a></li><li><a class="toctext" href="progress_bar.html">Juno Progress Bar Integration</a></li></ul></li><li><span class="toctext">Internal Documentation</span><ul><li><a class="toctext" href="../internals/contributors_guide.html">Contributor&#39;s Guide</a></li><li><a class="toctext" href="../internals/fem_tools.html">Internal Finite Element Tools</a></li><li><a class="toctext" href="../internals/extras.html">Extra Functions</a></li><li><a class="toctext" href="../internals/solver_helpers.html">Solver Helpers</a></li><li><a class="toctext" href="../internals/notes_on_algorithms.html">Notes on Algorithms</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="output_specification.html">Output Specification</a></li></ul><a class="edit-page" href="https://github.com/JuliaDiffEq/DifferentialEquations.jl/tree/c2bdaccda5210a9344aa45bc7e87efd657a73d9e/docs/src/man/output_specification.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Output-Specification-1" href="#Output-Specification-1">Output Specification</a></h1><p>DifferentialEquations.jl allows for specifying many forms of output. The default is &quot;as verbose as possible&quot;, with items saved to give a continuous interpolating function as the output for ease of use. However, all of this functionality can be toned down or turned off in order to improve performance and reduce the memory usage. This page is to describe the different techniques which can be employed to change the output specification. It will be described from the top down: the most powerful is continuous (dense) output, which can instead be used for step-wise interpolation via <code>saveat</code>, to using no interpolations and only save the timeseries at <code>timeseries_steps</code>, to finally turning <code>save_timeseries=false</code> to only save the value at the end.</p><h2><a class="nav-anchor" id="Availability-1" href="#Availability-1">Availability</a></h2><p>Note that the <code>dense</code> and <code>saveat</code> functions (the functionality which involves interpolations) is currently only available for the ODE solvers. The other functionality is available with all solvers.</p><h2><a class="nav-anchor" id="Continuous-(Dense)-Output-1" href="#Continuous-(Dense)-Output-1">Continuous (Dense) Output</a></h2><p>Continuous output is designated by the keyword argument <code>dense</code>. This is only available for the ODE solvers.  By default this is turned on with <code>dense=true</code>. At every timepoint it saves the appropriate derivative approximations <code>sol.k</code> in order to produce an interpolating function which is accessed directly by calling the solution object. For example, if <code>sol</code> is the solution object, the value at time <code>t</code> can be found via</p><pre><code class="language-julia">sol(t)</code></pre><p>Many of the special Runge-Kutta methods include a high-order interpolant which matches or is one less than the order of the solver. By default the other methods use an Order 3 Hermite interpolation. Since the <code>k</code> array must be stored, this has the highest memory requirement. Note that for methods which use extra steps for the high order interpolant that the extra steps are lazy evaluated and thus only computing when an interpolated value in the appropriate interval is requested</p><h2><a class="nav-anchor" id="Choosing-Intermediate-Locations-for-the-Solution-1" href="#Choosing-Intermediate-Locations-for-the-Solution-1">Choosing Intermediate Locations for the Solution</a></h2><p>If <code>dense</code> solving is too high of a memory cost, one can specify values to be interpolated during the solving via the array <code>saveat</code>. For example, if we are solving on the interval <code>tspan=[0,1]</code>, we can set <code>saveat=[0.5]</code> and the solver will ensure that an approximate value will be given at <code>t=0.5</code>. If this value is reached by the solver, it will be ignored. If the solver skips over this point, then an interpolated value is computed and saved for this point. This only requires saving the derivatives at two timesteps, and thus has a drastically reduced memory footprint than full dense output. Note that this, being associated with dense output, is only available for the ODE solvers.</p><p>Another way to specify an output location is to add that value to <code>tspan</code>. For example, we can force the solver to solve at <code>0.5</code> via <code>tspan=[0,0.5,1]</code>. However, notice that this will require that the solver actually hits <code>t=0.5</code>. In some cases this can slow down the solver by lowering the <code>Δt</code> leading to extra steps. In some cases, this may be advantagous. For example, if you know that there is a large discontinuity at <code>t=0.5</code>, using <code>tspan=[0,0.5,1]</code> will force the solver to first solve on <code>[0,0.5]</code>, and then continue to solve on <code>[0.5,1]</code>. This will give a much better approximation by perfectly specifying the moment of discontinuity, and can help the solver through tough regions.</p><h2><a class="nav-anchor" id="Timeseries-Specifications-1" href="#Timeseries-Specifications-1">Timeseries Specifications</a></h2><p>To further reduce the memory usage, we can control the density that the timeseries is saved at. By default <code>timeseries_steps=1</code>, meaning that every step is saved. Note that <code>timeseries_steps=1</code> is required for dense output to work correctly. If we change this value to <code>timeseries_steps=n</code>, then every <code>n</code>th step will be saved. Note that it will always have the first and final steps. We can turn off the saving of intermediate steps completely via the keyword <code>save_timeseries=false</code>. This can be used to minimize the memory usage.</p><footer><hr/><a class="previous" href="solution.html"><span class="direction">Previous</span><span class="title">The Solution Type</span></a><a class="next" href="plot.html"><span class="direction">Next</span><span class="title">Plot Functions</span></a></footer></article></body></html>
